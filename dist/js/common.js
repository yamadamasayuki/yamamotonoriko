$(function(){var e=$(".humberger-icon, .humberger-icon>span"),t=($(window).scrollTop(),$(window).width()),n=($(window).height(),$("body").has("#home"));$("img").on("contextmenu",function(){return!1}),document.ondragstart=function(){return!1};var o=800,i=2e3;$(window).on("load resize",function(){window.matchMedia("(max-width: 768px)").matches&&$(".nav").removeClass("fade")}),n?($(".outline01").addClass("top-line").delay(1e3).addClass("right-line"),$(".outline02").addClass("bottom-line").delay(1e3).addClass("left-line"),$(".fade").delay(2300).each(function(e){$(this).delay(e*o).animate({opacity:"1"},i)})):$(".fade").each(function(e){$(this).delay(e*o).animate({opacity:"1"},i)}),$("nav a").on("click",function(t){href=$(this).attr("href"),t.preventDefault(),e.hasClass("is-open")&&($(".nav").animate({top:"-100%"},500),e.removeClass("is-open").addClass("close")),n&&($(".outline01").removeClass("right-line").delay(1e3).removeClass("top-line"),$(".outline02").removeClass("left-line").delay(1e3).removeClass("bottom-line"),$(".fade").delay(1500).fadeOut(1e3,function(){location.href=href})),$("html, body").stop().animate({scrollTop:"0"},"swing"),href.indexOf("index.html")!==-1?$("body").fadeOut(1e3,function(){location.href=href}):$(".fade, .none, #contents, #footer").fadeOut(1e3,function(){location.href=href})}),$.fn.fadeinsTgt=function(e){if(this.length){var t=this,n=!1,o=$.extend({heightRatio:.5,topPoint:0,delayTime:.3,setVar:{},completeVar:{}},e),i=function(){TweenMax.set(t,o.setVar),a()},a=function(){$(window).scrollTop()+$(window).height()>t.offset().top+t.height()*o.heightRatio&&(n=!0,TweenMax.staggerTo(t,1,o.completeVar,o.delayTime))};$(window).on("scroll",function(){return!n&&void setTimeout(function(){a()},o.delayTime)}),i()}};var a=!0;$(".m-gallery, .j-gallery").each(function(){for(var e=a?6:5,t=Math.ceil($(this).find(".thumbnail").length/e),n=0;n<t;n++)$(this).find(".thumbnail").slice(n*e,(n+1)*e).fadeinsTgt({heightRatio:.1,setVar:a?{opacity:0,y:30}:{opacity:0},completeVar:{opacity:1,y:0},delayTime:.3})}),$("#contents").each(function(){for(var e=a?2:1,t=Math.ceil($(this).find(".none").length/e),n=0;n<t;n++)$(this).find(".none").slice(n*e,(n+1)*e).fadeinsTgt({heightRatio:.1,setVar:a?{opacity:0}:{opacity:0},completeVar:{opacity:1},delayTime:.7})}),$(".humberger-icon").on("click",function(){$(this).hasClass("is-open")?(e.removeClass("is-open").addClass("close"),$(".nav").animate({top:"-100%"},500)):(e.removeClass("close").addClass("is-open"),$(".nav").animate({top:"0"},500))}),$(window).on("resize",function(){t<=798?e.hasClass("is-open")&&(e.removeClass("is-open").addClass("close"),e.children().addClass("close"),$(".nav").removeAttr("style")):($(".nav").removeAttr("style").css({display:"block"}),e.removeClass("is-open").addClass("close"),e.children().addClass("close"))}),$("#works").each(function(){$(".thumbnail").hover(function(){$(this).find("img").css({opacity:"0.6"}),$(this).find(".caption").css({bottom:"0"})},function(){$(this).find("img, .caption").removeAttr("style")})})});